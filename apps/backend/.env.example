# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================
NODE_ENV=development
PORT=3000
API_PREFIX=api/v1
APP_URL=http://localhost:3000
FRONTEND_URL=http://localhost:5173

# ============================================================================
# DATABASE (REQUIRED)
# ============================================================================
# PostgreSQL connection string
# SECURITY: Use strong passwords and rotate regularly in production
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=SCHEMA
DATABASE_URL="postgresql://simbi:simbi_dev_password@localhost:5432/simbi_development?schema=public"

# ============================================================================
# REDIS CACHE & QUEUES (REQUIRED)
# ============================================================================
# Redis is required for caching, session management, and background jobs
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
# SECURITY: Always set REDIS_PASSWORD in production

# ============================================================================
# JWT AUTHENTICATION (REQUIRED)
# ============================================================================
# SECURITY: Generate strong random secrets (min 32 characters)
# Use: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-change-in-production-min-32-chars
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-in-production-min-32-chars
JWT_REFRESH_EXPIRES_IN=30d

# ============================================================================
# CSRF PROTECTION (REQUIRED)
# ============================================================================
# SECURITY: Generate a strong random secret for CSRF token encryption
CSRF_SECRET=your-super-secret-csrf-key-change-in-production-min-32-chars

# ============================================================================
# LOGGING
# ============================================================================
# Log level: error, warn, info, debug, verbose
LOG_LEVEL=info

# ============================================================================
# OAUTH AUTHENTICATION (OPTIONAL)
# ============================================================================
# Google OAuth - All three fields required if enabled
# SECURITY: Never commit real OAuth credentials to version control
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_CALLBACK_URL=http://localhost:3000/api/v1/auth/google/callback

# Facebook OAuth - All three fields required if enabled
FACEBOOK_APP_ID=your-facebook-app-id
FACEBOOK_APP_SECRET=your-facebook-app-secret
FACEBOOK_CALLBACK_URL=http://localhost:3000/api/v1/auth/facebook/callback

# Apple OAuth (future implementation)
APPLE_CLIENT_ID=
APPLE_TEAM_ID=
APPLE_KEY_ID=
APPLE_PRIVATE_KEY=

# ============================================================================
# PAYMENT PROCESSING (OPTIONAL)
# ============================================================================
# Stripe - Use test keys in development (sk_test_, pk_test_)
# SECURITY: Never commit production keys to version control
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret
STRIPE_CONNECT_CLIENT_ID=

# ============================================================================
# FILE STORAGE (OPTIONAL)
# ============================================================================
# AWS S3 for production file uploads
# SECURITY: Use IAM roles in production instead of access keys when possible
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-west-1
AWS_S3_BUCKET=simbi-uploads

# ============================================================================
# SEARCH (OPTIONAL BUT RECOMMENDED)
# ============================================================================
# MeiliSearch for fast full-text search
# SECURITY: Always set MEILISEARCH_API_KEY in production
MEILISEARCH_HOST=http://localhost:7700
MEILISEARCH_API_KEY=simbi_master_key_dev

# ============================================================================
# EMAIL SERVICES (OPTIONAL)
# ============================================================================
# SendGrid (Production)
# SECURITY: Store API keys in secure environment variable management
SENDGRID_API_KEY=your-sendgrid-api-key
EMAIL_FROM=noreply@simbi.com
EMAIL_FROM_NAME=Simbi

# SMTP (Development - use Mailhog or similar)
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_USER=
SMTP_PASSWORD=
SMTP_SECURE=false
# SECURITY: Use TLS in production (SMTP_SECURE=true, PORT=465 or 587)

# ============================================================================
# NOTIFICATIONS (OPTIONAL)
# ============================================================================
# Twilio SMS
# SECURITY: Protect SMS credentials carefully to prevent abuse
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# OneSignal Push Notifications
ONESIGNAL_APP_ID=your-onesignal-app-id
ONESIGNAL_API_KEY=your-onesignal-api-key

# ============================================================================
# MONITORING & ERROR TRACKING (RECOMMENDED FOR PRODUCTION)
# ============================================================================
# Sentry - Error tracking and performance monitoring
SENTRY_DSN=your-sentry-dsn

# ============================================================================
# RATE LIMITING & SECURITY
# ============================================================================
# Default rate limits (can be overridden per route)
RATE_LIMIT_TTL=60000
RATE_LIMIT_MAX=100
# SECURITY: Adjust based on your application needs
# - Lower limits for sensitive endpoints (login, password reset)
# - Higher limits for public read-only endpoints

# ============================================================================
# FILE UPLOAD SETTINGS
# ============================================================================
# Maximum file size in bytes (default: 10MB)
MAX_FILE_SIZE=10485760
# Allowed file MIME types (comma-separated)
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,image/webp,application/pdf
# SECURITY: Always validate file types server-side, never trust client MIME types

# ============================================================================
# THIRD-PARTY SERVICES (OPTIONAL)
# ============================================================================
# Geocoding API
GEOCODING_API_KEY=your-geocoding-api-key

# Analytics
MIXPANEL_TOKEN=your-mixpanel-token

# Admin Notifications
SLACK_WEBHOOK_URL=your-slack-webhook-url

# ============================================================================
# SECURITY BEST PRACTICES
# ============================================================================
# 1. Never commit .env files to version control
# 2. Use different secrets for development, staging, and production
# 3. Rotate secrets regularly, especially after team member departures
# 4. Use environment variable management tools (AWS Secrets Manager, Vault, etc.)
# 5. Enable 2FA on all third-party service accounts
# 6. Monitor for suspicious activity in logs and alerts
# 7. Keep all dependencies up to date
# 8. Run security audits regularly (npm audit, OWASP ZAP, etc.)
# 9. Use HTTPS in production (never HTTP for sensitive data)
# 10. Implement proper backup and disaster recovery procedures
# ============================================================================
